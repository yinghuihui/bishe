<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>RunJS</title>
    <script src="http://lib.sinaapp.com/js/jquery/1.9.1/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="./kkpager.js"></script>
    <link rel="stylesheet" type="text/css" href="./kkpager.css">
</head>

<body>
    <div id="kingPaging" class="pagination"></div>
    <div id="kingPaging1" class="pagination"></div>

    <div id="kingPaging2" class="pagination"></div>
    <script type="text/javascript">
    function getParameter(name) {
        var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
        var r = window.location.search.substr(1).match(reg);
        if (r != null) return unescape(r[2]);
        return null;
    }

    //init
    var totalPage = 15;
    var totalRecords = 390;
    var pageNo = getParameter('pno');
    if (!pageNo) {
        pageNo = 1;
    }

    $(function() {

        var obj1 = {
            pagerid: "kingPaging",
            //当前页
            pno: pageNo,
            //总页码
            total: totalPage,
            //总数据条数
            totalRecords: totalRecords,
            mode: 'click', //默认值是link，可选link或者click
            click: function(n) {
                this.selectPage(n);
                return false;
            }
        }
        var paging = new KingPaging(null, obj1);

        var obj11 = {
            pagerid: "kingPaging1",
            //当前页
            pno: pageNo,
            //总页码
            total: totalPage,
            //总数据条数
            totalRecords: totalRecords,
            mode: 'click', //默认值是link，可选link或者click
            click: function(n) {
                this.selectPage(n);
                return false;
            }
        }
        var paging = new KingPaging(null, obj11);

        var obj2 = {
                pagerid: "kingPaging2",
                //当前页
                pno: pageNo,
                //总页码
                total: totalPage,
                //总数据条数
                totalRecords: totalRecords,
                mode: 'link', //默认值是link，可选link或者click
                hrefFormer: "kingPaging",
                hrefLatter: '.html', //链接尾部
                getLink: function(n) {
                    return this.hrefFormer + this.hrefLatter + "?pno=" + n + "&kingPaging=2";
                }
            }
            //var paging2 = new KingPaging(null,obj2)
        $("#kingPaging2").KingPaging(obj2);

    })
    </script>
</body>

</html>
